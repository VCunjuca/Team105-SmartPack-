#include "mcc_generated_files/mcc.h"
#include <stdio.h>
/*
                         Main application
 */

void ISR_1(void)
{
        uint8_t rxData;
        EUSART1_Receive_ISR();
            // Logic to echo received data
            if(EUSART1_is_rx_ready())
            {
                rxData = EUSART1_Read();
                //EUSART1_Write(rxData);
            }
        LED_0_Toggle();
}

void main(void)
{
    int ii;
    float value;
    
    // Initialize the device
    SYSTEM_Initialize();
    
    EUSART1_Initialize();
  
    
    EUSART1_SetRxInterruptHandler(ISR_1);
   
    
    // If using interrupts in PIC18 High/Low Priority Mode you need to enable the Global High and Low Interrupts
    // If using interrupts in PIC Mid-Range Compatibility Mode you need to enable the Global and Peripheral Interrupts
    // Use the following macros to:

    // Enable the Global Interrupts
    INTERRUPT_GlobalInterruptEnable();

    // Enable the Peripheral Interrupts
    INTERRUPT_PeripheralInterruptEnable();

    LED_0_SetHigh();
    ii = 3;
    while (1)
    {
       printf("ii:%d\r", ii);
    }
}
